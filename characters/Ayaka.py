# core
from ..GrpgCharacter import GrpgCharacter
from ..talent_impl import auto, charge
...

# 1st party


# 3rd party
...

# typings
...


class Ayaka(GrpgCharacter):

    def __init__(self, levels=(70,80,80,80)):

        self.name = 'Kamisato Ayaka'

        chara_level, auto_level, skill_level, burst_level = levels

        # inherent parameters, not tweakable.
        inherent = {
            'Level': chara_level,
            'Element': 'Cryo',
            'Stats': {
                'Base HP': {
                    1: 1001,
                    20: 2597,
                    20.5: 3455,
                    40: 5170,
                    40.5: 5779,
                    50: 6649,
                    50.5: 7462,
                    60: 8341,
                    60.5: 8951,
                    70: 9838,
                    70.5: 10448,
                    80: 11345,
                    80.5: 11954,
                    90: 12858
                },
                'Base ATK': {
                    1: 27,
                    20: 69,
                    20.5: 92,
                    40: 138,
                    40.5: 154,
                    50: 177,
                    50.5: 198,
                    60: 222,
                    60.5: 238,
                    70: 262,
                    70.5: 278,
                    80: 302,
                    80.5: 318,
                    90: 342
                },
                'Base DEF': {
                    1: 61,
                    20: 158,
                    20.5: 211,
                    40: 315,
                    40.5: 352,
                    50: 405,
                    50.5: 455,
                    60: 509,
                    60.5: 546,
                    70: 600,
                    70.5: 637,
                    80: 692,
                    80.5: 729,
                    90: 784
                },
                'Crit DMG': {
                    1: 50,
                    20: 50,
                    20.5: 50,
                    40: 50,
                    40.5: 59.6,
                    50: 59.6,
                    50.5: 69.2,
                    60: 69.2,
                    60.5: 69.2,
                    70: 69.2,
                    70.5: 78.8,
                    80: 78.8,
                    80.5: 88.4,
                    90: 88.4
                },
                'Crit Rate': {
                    1: 5,
                    20: 5,
                    40: 5,
                    50: 5,
                    60: 5,
                    70: 5,
                    80: 5,
                    90: 5
                }
            },
            'Talents': {
                "auto": {
                    "DMG": {
                        1: [
                            44.12,
                            46.78,
                            58.14,
                            57.71,
                            72.07
                        ],
                        2: [
                            47.71,
                            50.59,
                            62.87,
                            62.4,
                            77.93
                        ],
                        3: [
                            51.3,
                            54.4,
                            67.6,
                            67.1,
                            83.8
                        ],
                        4: [
                            56.43,
                            59.84,
                            74.36,
                            73.81,
                            92.18
                        ],
                        5: [
                            60.02,
                            63.65,
                            79.09,
                            78.51,
                            98.05
                        ],
                        6: [
                            64.13,
                            68,
                            84.5,
                            83.88,
                            104.75
                        ],
                        7: [
                            69.77,
                            73.98,
                            91.94,
                            91.26,
                            113.97
                        ],
                        8: [
                            75.41,
                            79.97,
                            99.37,
                            98.64,
                            123.19
                        ],
                        9: [
                            81.05,
                            85.95,
                            106.81,
                            106.02,
                            132.4
                        ],
                        10: [
                            87.21,
                            92.48,
                            114.92,
                            114.07,
                            142.46
                        ],
                        11: [
                            93.37,
                            99.01,
                            123.03,
                            122.12,
                            152.52
                        ],
                        12: [
                            99.52,
                            105.54,
                            131.14,
                            130.17,
                            162.57
                        ],
                        13: [
                            105.68,
                            112.06,
                            139.26,
                            138.23,
                            172.63
                        ],
                        14: [
                            111.83,
                            118.59,
                            147.37,
                            146.28,
                            182.68
                        ]
                    },
                    "Level": auto_level,
                },
                "charged": {
                    "DMG": {
                        1: 124,
                        2: 133.3,
                        3: 142.6,
                        4: 155,
                        5: 164.3,
                        6: 173.6,
                        7: 186,
                        8: 198.4,
                        9: 210.8,
                        10: 223.2,
                        11: 235.6,
                        12: 248,
                        13: 263.5,
                        14: 279
                    },
                    "Level": auto_level,
                },
                "plunge": {
                    "DMG": {
                        1: 56.83,
                        2: 61.45,
                        3: 66.08,
                        4: 72.69,
                        5: 77.31,
                        6: 82.6,
                        7: 89.87,
                        8: 97.14,
                        9: 104.41,
                        10: 112.34,
                        11: 120.27,
                        12: 128.2,
                        13: 136.12,
                        14: 144.05
                    },
                    "Level": auto_level,
                },
                'skill': {
                    'Skill DMG': {
                        1: 239.2,
                        2: 257.14,
                        3: 275.08,
                        4: 299,
                        5: 316.94,
                        6: 334.88,
                        7: 358.8,
                        8: 382.72,
                        9: 406.64,
                        10: 430.56,
                        11: 454.48,
                        12: 478.4,
                        13: 508.3,
                        14: 538.2
                    },
                    'CD': {
                        1: 10,
                        2: 10,
                        3: 10,
                        4: 10,
                        5: 10,
                        6: 10,
                        7: 10,
                        8: 10,
                        9: 10,
                        10: 10,
                        11: 10,
                        12: 10,
                        13: 10,
                        14: 10
                    },
                    "Level": skill_level,
                },
                'burst': {
                    'Cutting DMG': {
                        1: 112.3,
                        2: 120.72,
                        3: 129.15,
                        4: 140.38,
                        5: 148.8,
                        6: 157.22,
                        7: 168.45,
                        8: 179.68,
                        9: 190.91,
                        10: 202.14,
                        11: 213.37,
                        12: 224.6,
                        13: 238.64,
                        14: 252.68
                    },
                    'Bloom DMG': {
                        1: 168.45,
                        2: 181.08,
                        3: 193.72,
                        4: 210.56,
                        5: 223.2,
                        6: 235.83,
                        7: 252.68,
                        8: 269.52,
                        9: 286.36,
                        10: 303.21,
                        11: 320.05,
                        12: 336.9,
                        13: 357.96,
                        14: 379.01
                    },
                    'Duration': {
                        1: 5,
                        2: 5,
                        3: 5,
                        4: 5,
                        5: 5,
                        6: 5,
                        7: 5,
                        8: 5,
                        9: 5,
                        10: 5,
                        11: 5,
                        12: 5,
                        13: 5,
                        14: 5
                    },
                    'CD': {
                        1: 20,
                        2: 20,
                        3: 20,
                        4: 20,
                        5: 20,
                        6: 20,
                        7: 20,
                        8: 20,
                        9: 20,
                        10: 20,
                        11: 20,
                        12: 20,
                        13: 20,
                        14: 20
                    },
                    'Energy Cost': {
                        1: 80,
                        2: 80,
                        3: 80,
                        4: 80,
                        5: 80,
                        6: 80,
                        7: 80,
                        8: 80,
                        9: 80,
                        10: 80,
                        11: 80,
                        12: 80,
                        13: 80,
                        14: 80
                    },
                    "Level": burst_level,
                }
            }
        }

        super().__init__(inherent)




    @auto
    def invoke_auto(self, talent, data, fs):
        # sacrifice: always cryo
        fs.element = 'Cryo'

        # include physical dmg bonus    
        new_exp = fs.talent_dmg * (self.sm.stats['Cryo DMG Bonus'] + 1)
        fs.dmg_post_bonus.equals(new_exp)


    @charge
    def invoke_charge(self, talent, data, fs):
        # sacrifice: always cryo
        fs.element = 'Cryo'


        # include physical dmg bonus    
        new_exp = fs.talent_dmg * (self.sm.stats['Cryo DMG Bonus'] + 1)
        fs.dmg_post_bonus.equals(new_exp)